---
layout: post
title:  "作業記録 その１"
date:   2022-12-14 15:57:35 +0900
categories: diary
---

jekyllのプロジェクトのはじめの修正をする。これはいつもどおり。
```ruby
#Gemfile
gem 'webrick', '~> 1.7'
gem 'faraday-retry', '~> 2.0'
```
上記を追加。また、gh-pagesを有効にするために`jekyll`をコメントアウトし`github-pages`をアンコメントアウトする。

また、自分のgithubアカウント情報に合わせて`_config.yml`を修正する。
```yml
baseurl: "/rails_work_2" 
url: "https://github.com/Nagasaka-Hiroki" 
...
livereload: true
```

今回の作業記録は`./_post`に入れていく。合間合間で作業するので断続的になるかもしれないが、ひとまず進める。

また、`gh-pages`のブランチをむやみにプッシュしない。(github actionが起動して一月分の決まった分が消費されてしまうので)

念の為起動コマンドを記録する。
```bash
bubdle exec jekyll s --livereload-port 50000
```
`_config.yml`で`livereload`を有効にしているので`-l`オプションは省略できる。

初期のセットアップ完了したのでこの時点を一度コミットしておく。

まず、本件の肝であるデータベースの構造について検討する。いつもどおりER図で考える。ER図を以下に示す。

|![ER図]({{ site.baseurl }}/assets/images/er.png)|
|:-:|
|ER図|

上記の図を考えると一つのURLに複数（０を含む）の属性をつけることができそうだ。また、同時に使用されていない属性も、先に登録することもできる。そしてURLおよび属性名がidで管理されており、中間テーブルでidで連結されている。そのためURLと属性名の両方が後から編集しやすくなっている。この設計で今の所問題はないと思うのでこれで進める。

上記のER図を参考にデータベースを構成する。

作業量は少ないが時間なので本日はここまでにする。